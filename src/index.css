@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@import 'tailwindcss';

/* === GLOBAL STYLES === */
html {
  scroll-behavior: smooth;
  overflow-x: hidden;
  height: 100%;
}

body {
  overflow-x: hidden;
  max-width: 100vw;
  height: 100%;
}

* {
  box-sizing: border-box;
}

/* Ensure no element causes horizontal scroll */
*,
*::before,
*::after {
  max-width: 100%;
}

/* === USER DROPDOWN MENU === */
.user-dropdown {
  position: relative;
  display: inline-block;
}

.user-avatar {
  display: flex;
  align-items: center;
  gap: var(--space-2xs);
  padding: var(--space-2xs) var(--space-xs);
  background: var(--surface-2);
  border: 1px solid var(--border-2);
  border-radius: var(--radius-2);
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: var(--step--1);
  color: var(--text-1);
}

.user-avatar:hover {
  background: var(--surface-3);
  border-color: var(--brand-primary);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px oklch(25% 0.03 240 / 0.15);
}

.user-icon {
  font-size: 1.2em;
}

.user-name {
  font-weight: 500;
  max-width: 120px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Hover-based user popover */
.user-dropdown-hover {
  position: relative;
  display: inline-block;
}

.user-avatar-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2.5rem;
  height: 2.5rem;
  background: var(--surface-2);
  border: 1px solid var(--border-1);
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.2s var(--ease-out-2);
}

.user-avatar-icon:hover {
  background: var(--surface-3);
  border-color: var(--brand-primary);
  transform: translateY(-1px);
}

.user-popover {
  position: absolute;
  top: calc(100% + 0.25rem);
  right: 0;
  min-width: 200px;
  background: var(--surface-1);
  border: 1px solid var(--border-2);
  border-radius: var(--radius-2);
  box-shadow: 
    0 8px 32px oklch(25% 0.03 240 / 0.12),
    0 4px 16px oklch(25% 0.03 240 / 0.08);
  z-index: 1000;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-0.5rem);
  transition: all 0.3s var(--ease-out-2);
  pointer-events: none;
}

/* Add invisible bridge area to prevent popover from disappearing */
.user-popover::before {
  content: '';
  position: absolute;
  top: -0.5rem;
  left: 0;
  right: 0;
  height: 0.5rem;
  background: transparent;
}

.user-dropdown-hover:hover .user-popover,
.user-popover:hover {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
  pointer-events: auto;
  transition-delay: 0.1s;
}

.user-dropdown-hover .user-popover {
  transition-delay: 0s;
}

@keyframes dropdownSlide {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.user-popover .user-info {
  padding: var(--space-xs);
  border-bottom: 1px solid var(--border-1);
}

.user-popover .user-name {
  font-weight: 600;
  color: var(--text-1);
  font-size: var(--step--1);
}

.user-email {
  font-size: var(--step--2);
  color: var(--text-3);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.user-menu-divider {
  border: none;
  height: 1px;
  background: var(--border-1);
  margin: 0;
}

.logout-button {
  width: 100%;
  padding: var(--space-xs);
  background: none;
  border: none;
  text-align: left;
  cursor: pointer;
  color: var(--text-2);
  font-size: var(--step--1);
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: var(--space-2xs);
}

.logout-button:hover {
  background: var(--surface-2);
  color: var(--text-1);
}

:root {
  /* === FLUID TYPOGRAPHY === */
  --step--2: clamp(0.69rem, 0.66rem + 0.18vw, 0.8rem);
  --step--1: clamp(0.83rem, 0.78rem + 0.29vw, 1rem);
  --step-0: clamp(1rem, 0.91rem + 0.43vw, 1.25rem);
  --step-1: clamp(1.2rem, 1.07rem + 0.63vw, 1.56rem);
  --step-2: clamp(1.44rem, 1.26rem + 0.89vw, 1.95rem);
  --step-3: clamp(1.73rem, 1.48rem + 1.24vw, 2.44rem);
  --step-4: clamp(2.07rem, 1.73rem + 1.7vw, 3.05rem);

  /* === FLUID SPACING === */
  --space-3xs: clamp(0.25rem, 0.23rem + 0.11vw, 0.31rem);
  --space-2xs: clamp(0.5rem, 0.45rem + 0.22vw, 0.63rem);
  --space-xs: clamp(0.75rem, 0.68rem + 0.33vw, 0.94rem);
  --space-s: clamp(1rem, 0.91rem + 0.43vw, 1.25rem);
  --space-m: clamp(1.5rem, 1.36rem + 0.65vw, 1.88rem);
  --space-l: clamp(2rem, 1.82rem + 0.87vw, 2.5rem);
  --space-xl: clamp(3rem, 2.73rem + 1.3vw, 3.75rem);
  --space-2xl: clamp(4rem, 3.64rem + 1.74vw, 5rem);

  /* === PROFESSIONAL INLINE SPACING === */
  --padding-inline-xs: clamp(0.5rem, 0.45rem + 0.22vw, 0.63rem);
  --padding-inline-s: clamp(0.75rem, 0.68rem + 0.33vw, 0.94rem);
  --padding-inline-m: clamp(1rem, 0.91rem + 0.43vw, 1.25rem);
  --padding-inline-l: clamp(1.5rem, 1.36rem + 0.65vw, 1.88rem);
  --padding-inline-xl: clamp(2rem, 1.82rem + 0.87vw, 2.5rem);

  /* === PROFESSIONAL OKLCH THEMING SYSTEM === */
  
  /* Base surfaces - Pure whites to light grays */
  --surface-1: oklch(100% 0 0);                    /* Pure white */
  --surface-2: oklch(98% 0.005 240);               /* Whisper blue-white */
  --surface-3: oklch(96% 0.01 240);                /* Light blue-gray */
  --surface-4: oklch(94% 0.015 240);               /* Soft blue-gray */
  --surface-raised: oklch(100% 0 0);               /* Elevated elements */
  --surface-overlay: oklch(100% 0 0 / 0.95);       /* Modal overlays */

  /* Text hierarchy - Dark to medium grays */
  --text-1: oklch(15% 0.02 240);                   /* Primary text - deep - WCAG AA compliant */
  --text-2: oklch(35% 0.015 240);                  /* Secondary text - WCAG AA compliant */
  --text-3: oklch(45% 0.01 240);                   /* Tertiary text - WCAG AA compliant */
  --text-4: oklch(55% 0.008 240);                  /* Disabled text - WCAG AA compliant */
  --text-inverse: oklch(98% 0.005 240);            /* Text on dark backgrounds */

  /* Brand palette - Blue family */
  --brand-50: oklch(98% 0.01 240);                 /* Lightest tint */
  --brand-100: oklch(95% 0.03 240);
  --brand-200: oklch(88% 0.06 240);
  --brand-300: oklch(78% 0.09 240);
  --brand-400: oklch(68% 0.12 240);
  --brand-500: oklch(45% 0.15 240);                /* Primary brand - WCAG AA compliant */
  --brand-600: oklch(48% 0.17 240);                /* Darker primary */
  --brand-700: oklch(38% 0.18 240);
  --brand-800: oklch(28% 0.16 240);
  --brand-900: oklch(18% 0.12 240);                /* Darkest */

  /* Accent colors - Sage green family */
  --accent-50: oklch(97% 0.02 165);
  --accent-100: oklch(93% 0.05 165);
  --accent-200: oklch(86% 0.08 165);
  --accent-300: oklch(78% 0.1 165);
  --accent-400: oklch(70% 0.12 165);
  --accent-500: oklch(48% 0.14 165);               /* Primary accent - WCAG AA compliant */
  --accent-600: oklch(54% 0.15 165);
  --accent-700: oklch(46% 0.14 165);
  --accent-800: oklch(38% 0.12 165);
  --accent-900: oklch(28% 0.1 165);

  /* Semantic colors - Success, Warning, Error */
  --success-50: oklch(97% 0.02 160);
  --success-100: oklch(93% 0.05 160);
  --success-500: oklch(65% 0.15 160);              /* Success green */
  --success-600: oklch(55% 0.17 160);
  --success-700: oklch(45% 0.18 160);

  --warning-50: oklch(98% 0.02 80);
  --warning-100: oklch(94% 0.05 80);
  --warning-500: oklch(75% 0.12 80);               /* Warning yellow */
  --warning-600: oklch(65% 0.14 80);
  --warning-700: oklch(55% 0.15 80);

  --error-50: oklch(98% 0.02 20);
  --error-100: oklch(94% 0.05 20);
  --error-500: oklch(65% 0.18 20);                 /* Error red */
  --error-600: oklch(55% 0.2 20);
  --error-700: oklch(45% 0.2 20);

  /* Border system */
  --border-1: oklch(92% 0.005 240);                /* Subtle borders */
  --border-2: oklch(88% 0.01 240);                 /* Medium borders */
  --border-3: oklch(82% 0.015 240);                /* Strong borders */
  --border-focus: oklch(58% 0.15 240);             /* Focus rings */
  --border-error: oklch(65% 0.18 20);              /* Error borders */
  --border-success: oklch(65% 0.15 160);           /* Success borders */

  /* Shadow system with OKLCH */
  --shadow-xs: 0 1px 2px oklch(20% 0.02 240 / 0.05);
  --shadow-sm: 0 1px 3px oklch(20% 0.02 240 / 0.1), 0 1px 2px oklch(20% 0.02 240 / 0.06);
  --shadow-md: 0 4px 6px oklch(20% 0.02 240 / 0.07), 0 2px 4px oklch(20% 0.02 240 / 0.06);
  --shadow-lg: 0 10px 15px oklch(20% 0.02 240 / 0.1), 0 4px 6px oklch(20% 0.02 240 / 0.05);
  --shadow-xl: 0 20px 25px oklch(20% 0.02 240 / 0.1), 0 10px 10px oklch(20% 0.02 240 / 0.04);
  --shadow-2xl: 0 25px 50px oklch(20% 0.02 240 / 0.25);
  --shadow-colored: 0 8px 25px oklch(58% 0.15 240 / 0.15);
  --shadow-glow: 0 0 20px oklch(58% 0.15 240 / 0.3);

  /* Gradient system for light mode */
  --gradient-from: var(--surface-1);                /* Pure white */
  --gradient-to: oklch(99.5% 0.002 240);            /* Whisper blue-white */
  --gradient-accent: oklch(99% 0.005 240);          /* Very light blue */

  /* Legacy aliases for backwards compatibility */
  --brand-primary: var(--brand-500);
  --brand-primary-hover: var(--brand-600);
  --brand-primary-light: var(--brand-50);
  --accent-sage: var(--accent-500);
  --shadow-2: var(--shadow-sm);
  --shadow-3: var(--shadow-md);
}

/* === MANUAL THEME SWITCHING === */
[data-theme="dark"],
.dark-theme {
  /* Dark surfaces - From dark to darker */
  --surface-1: oklch(15% 0.01 240);              /* Primary dark surface */
  --surface-2: oklch(18% 0.015 240);             /* Slightly lighter */
  --surface-3: oklch(22% 0.02 240);              /* Card backgrounds */
  --surface-4: oklch(26% 0.025 240);             /* Elevated elements */
  --surface-raised: oklch(20% 0.015 240);        /* Modals, dropdowns */
  --surface-overlay: oklch(10% 0.01 240 / 0.9);  /* Modal overlays */

  /* Dark mode text - From light to medium */
  --text-1: oklch(95% 0.005 240);                /* Primary text - bright */
  --text-2: oklch(75% 0.01 240);                 /* Secondary text */
  --text-3: oklch(55% 0.015 240);                /* Tertiary text */
  --text-4: oklch(40% 0.02 240);                 /* Disabled text */
  --text-inverse: oklch(15% 0.01 240);           /* Text on light backgrounds */

  /* Adjusted brand colors for dark mode */
  --brand-50: oklch(25% 0.05 240);
  --brand-100: oklch(30% 0.08 240);
  --brand-200: oklch(38% 0.1 240);
  --brand-300: oklch(48% 0.12 240);
  --brand-400: oklch(58% 0.14 240);
  --brand-500: oklch(68% 0.15 240);              /* Brighter for dark mode */
  --brand-600: oklch(78% 0.13 240);
  --brand-700: oklch(85% 0.1 240);
  --brand-800: oklch(90% 0.08 240);
  --brand-900: oklch(95% 0.05 240);

  /* Dark mode accent colors */
  --accent-50: oklch(25% 0.05 165);
  --accent-100: oklch(30% 0.08 165);
  --accent-200: oklch(38% 0.1 165);
  --accent-300: oklch(48% 0.12 165);
  --accent-400: oklch(58% 0.13 165);
  --accent-500: oklch(68% 0.14 165);             /* Brighter sage for dark */
  --accent-600: oklch(78% 0.12 165);
  --accent-700: oklch(85% 0.1 165);
  --accent-800: oklch(90% 0.08 165);
  --accent-900: oklch(95% 0.05 165);

  /* Dark mode semantic colors */
  --success-500: oklch(70% 0.15 160);
  --warning-500: oklch(80% 0.12 80);
  --error-500: oklch(70% 0.18 20);

  /* Dark mode borders */
  --border-1: oklch(30% 0.01 240);               /* Subtle dark borders */
  --border-2: oklch(35% 0.015 240);              /* Medium borders */
  --border-3: oklch(45% 0.02 240);               /* Strong borders */

  /* Dark mode shadows - deeper and more pronounced */
  --shadow-xs: 0 1px 2px oklch(5% 0.01 240 / 0.3);
  --shadow-sm: 0 1px 3px oklch(5% 0.01 240 / 0.4), 0 1px 2px oklch(5% 0.01 240 / 0.3);
  --shadow-md: 0 4px 6px oklch(5% 0.01 240 / 0.4), 0 2px 4px oklch(5% 0.01 240 / 0.3);
  --shadow-lg: 0 10px 15px oklch(5% 0.01 240 / 0.5), 0 4px 6px oklch(5% 0.01 240 / 0.3);
  --shadow-xl: 0 20px 25px oklch(5% 0.01 240 / 0.5), 0 10px 10px oklch(5% 0.01 240 / 0.2);
  --shadow-2xl: 0 25px 50px oklch(5% 0.01 240 / 0.6);
  --shadow-colored: 0 8px 25px oklch(68% 0.15 240 / 0.3);
  --shadow-glow: 0 0 20px oklch(68% 0.15 240 / 0.4);

  /* Dark mode gradient colors - replace white with dark blue */
  --gradient-from: oklch(12% 0.02 240);           /* Deep dark blue */
  --gradient-to: oklch(16% 0.025 240);            /* Slightly lighter dark blue */
  --gradient-accent: oklch(14% 0.02 220);         /* Purple-tinted dark blue */
}

/* === AUTO DARK MODE (FALLBACK) === */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    /* Dark surfaces - From dark to darker */
    --surface-1: oklch(15% 0.01 240);              /* Primary dark surface */
    --surface-2: oklch(18% 0.015 240);             /* Slightly lighter */
    --surface-3: oklch(22% 0.02 240);              /* Card backgrounds */
    --surface-4: oklch(26% 0.025 240);             /* Elevated elements */
    --surface-raised: oklch(20% 0.015 240);        /* Modals, dropdowns */
    --surface-overlay: oklch(10% 0.01 240 / 0.9);  /* Modal overlays */

    /* Dark mode text - From light to medium - WCAG AA compliant */
    --text-1: oklch(95% 0.005 240);                /* Primary text - bright - PASSES AA */
    --text-2: oklch(80% 0.01 240);                 /* Secondary text - WCAG AA compliant */
    --text-3: oklch(65% 0.015 240);                /* Tertiary text - WCAG AA compliant */
    --text-4: oklch(50% 0.02 240);                 /* Disabled text - WCAG AA compliant */
    --text-inverse: oklch(15% 0.01 240);           /* Text on light backgrounds */

    /* Adjusted brand colors for dark mode */
    --brand-50: oklch(25% 0.05 240);
    --brand-100: oklch(30% 0.08 240);
    --brand-200: oklch(38% 0.1 240);
    --brand-300: oklch(48% 0.12 240);
    --brand-400: oklch(58% 0.14 240);
    --brand-500: oklch(68% 0.15 240);              /* Brighter for dark mode */
    --brand-600: oklch(78% 0.13 240);
    --brand-700: oklch(85% 0.1 240);
    --brand-800: oklch(90% 0.08 240);
    --brand-900: oklch(95% 0.05 240);

    /* Dark mode accent colors */
    --accent-50: oklch(25% 0.05 165);
    --accent-100: oklch(30% 0.08 165);
    --accent-200: oklch(38% 0.1 165);
    --accent-300: oklch(48% 0.12 165);
    --accent-400: oklch(58% 0.13 165);
    --accent-500: oklch(68% 0.14 165);             /* Brighter sage for dark */
    --accent-600: oklch(78% 0.12 165);
    --accent-700: oklch(85% 0.1 165);
    --accent-800: oklch(90% 0.08 165);
    --accent-900: oklch(95% 0.05 165);

    /* Dark mode semantic colors */
    --success-500: oklch(70% 0.15 160);
    --warning-500: oklch(80% 0.12 80);
    --error-500: oklch(70% 0.18 20);

    /* Dark mode borders */
    --border-1: oklch(30% 0.01 240);               /* Subtle dark borders */
    --border-2: oklch(35% 0.015 240);              /* Medium borders */
    --border-3: oklch(45% 0.02 240);               /* Strong borders */

    /* Dark mode shadows - deeper and more pronounced */
    --shadow-xs: 0 1px 2px oklch(5% 0.01 240 / 0.3);
    --shadow-sm: 0 1px 3px oklch(5% 0.01 240 / 0.4), 0 1px 2px oklch(5% 0.01 240 / 0.3);
    --shadow-md: 0 4px 6px oklch(5% 0.01 240 / 0.4), 0 2px 4px oklch(5% 0.01 240 / 0.3);
    --shadow-lg: 0 10px 15px oklch(5% 0.01 240 / 0.5), 0 4px 6px oklch(5% 0.01 240 / 0.3);
    --shadow-xl: 0 20px 25px oklch(5% 0.01 240 / 0.5), 0 10px 10px oklch(5% 0.01 240 / 0.2);
    --shadow-2xl: 0 25px 50px oklch(5% 0.01 240 / 0.6);
    --shadow-colored: 0 8px 25px oklch(68% 0.15 240 / 0.3);
    --shadow-glow: 0 0 20px oklch(68% 0.15 240 / 0.4);

    /* Dark mode gradient colors - replace white with dark blue */
    --gradient-from: oklch(12% 0.02 240);           /* Deep dark blue */
    --gradient-to: oklch(16% 0.025 240);            /* Slightly lighter dark blue */
    --gradient-accent: oklch(14% 0.02 220);         /* Purple-tinted dark blue */
  }

  /* Dark mode navigation transparency - only apply to dark mode */
  :root:not([data-theme]) .navigation {
    background: oklch(12% 0.02 240 / 0.75) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    filter: blur(0px); /* Fallback for older browsers */
    border-bottom: 1px solid oklch(40% 0.02 240 / 0.3) !important;
    box-shadow: 0 4px 24px oklch(10% 0.03 240 / 0.2) !important;
  }

  @media (max-width: 1024px) {
    :root:not([data-theme]) .navigation {
      background: oklch(12% 0.02 240 / 0.75) !important;
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      box-shadow: 0 4px 32px oklch(10% 0.03 240 / 0.25) !important;
    }
  }
}

/* Light mode navigation transparency - explicit light mode */
.light-theme .navigation,
:root:not(.dark-theme):not([data-theme='dark']) .navigation {
  background: oklch(98% 0.008 240 / 0.85) !important;
  backdrop-filter: blur(16px) !important;
  -webkit-backdrop-filter: blur(16px) !important;
  filter: blur(0px); /* Fallback for older browsers */
  border-bottom: 1px solid oklch(70% 0.02 240 / 0.3) !important;
  box-shadow: 0 4px 20px oklch(25% 0.03 240 / 0.05) !important;
}

@media (max-width: 1024px) {
  .light-theme .navigation,
  :root:not(.dark-theme):not([data-theme='dark']) .navigation {
    background: oklch(98% 0.008 240 / 0.85) !important;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid oklch(70% 0.02 240 / 0.25) !important;
    box-shadow: 0 4px 28px oklch(25% 0.03 240 / 0.1) !important;
  }
}

:root {
  --radius-2: 0.5rem;
  --radius-3: 0.75rem;
  --radius-4: 1rem;
  --radius-pill: 9999px;

  --ease-out-2: cubic-bezier(0, 0, 0.2, 1);

  /* === BEAUTIFUL ANIMATIONS === */
  --animation-fade-in: fade-in 0.6s var(--ease-out-2);
  --animation-slide-from-left: slide-from-left 0.8s var(--ease-out-2);
  --animation-slide-from-bottom: slide-from-bottom 0.7s var(--ease-out-2);
  --animation-scale-up: scale-up 0.5s var(--ease-out-2);

  font-family: 'Inter', system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: var(--text-1);
  background-color: var(--surface-1);

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* OKLCH color definitions */
:root {
  --oklch-900: oklch(20% 0.05 270);
  --oklch-850: oklch(30% 0.08 260);
  --oklch-800: oklch(41% 0.16928 333.204);
  --oklch-white: oklch(100% 0.05 270);
  --oklch-black: oklch(0% 0.05 270);
  --oklch-gray: oklch(50% 0.05 270);
  --oklch-rebecca: oklch(50% 0.1 270);
  --oklch-red: oklch(50% 0.1 0);
  --oklch-green: oklch(50% 0.1 120);
  --oklch-blue: oklch(50% 0.1 240);
  --oklch-yellow: oklch(50% 0.1 60);
  --oklch-cyan: oklch(50% 0.1 180);
  --oklch-magenta: oklch(50% 0.1 300);
  --oklch-orange: oklch(50% 0.1 30);
  --oklch-purple: oklch(50% 0.1 270);
  --oklch-pink: oklch(50% 0.1 330);
  --oklch-brown: oklch(50% 0.1 30);
  --oklch-teal: oklch(50% 0.1 150);
  --oklch-lime: oklch(50% 0.1 90);
  --oklch-olive: oklch(50% 0.1 60);
  --oklch-gold: oklch(50% 0.1 45);
  --oklch-silver: oklch(50% 0.1 240);
  --oklch-copper: oklch(55.405% 0.07917 62.276);
  --oklch-bronze: oklch(50% 0.1 30);
}

a {
  font-weight: 500;
  color: var(--oklch-900);
  text-decoration: inherit;
}
a:hover {
  color: var(--oklch-850);
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
}

#root {
  width: 100%;
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: var(--oklch-800);
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: var(--oklch-900);
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

@media (prefers-color-scheme: light) {
  :root {
    color: var(--oklch-900);
    background-color: var(--oklch-white);
  }
  a:hover {
    color: var(--oklch-900);
  }
  button {
    background-color: var(--oklch-800);
  }
}

/* === KEYFRAMES === */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-from-left {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes slide-from-bottom {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes scale-up {
  from {
    transform: scale(0.9);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* === FLASH CARDS COMPONENTS === */
.app-container {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  height: 100vh;
  overflow-y: auto;
}

.navigation {
  display: flex;
  flex-direction: column;
  gap: var(--space-2xs);
  padding: var(--space-2xs) var(--space-s);
  background: transparent;
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-bottom: 1px solid oklch(70% 0.02 240 / 0.3);
  position: sticky;
  top: 0;
  z-index: 1003;
  transition: all 0.3s var(--ease-out-2);
  box-shadow: 0 4px 20px oklch(25% 0.03 240 / 0.05);
}

/* Mobile-first navigation using modern CSS */  
@media (max-width: 1024px) {
  body {
    overflow-x: hidden;
  }
  
  .navigation {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    padding: 1rem;
    width: 100%;
    max-width: 100vw;
    box-sizing: border-box;
    background: transparent;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid oklch(70% 0.02 240 / 0.25);
    box-shadow: 0 4px 28px oklch(25% 0.03 240 / 0.1);
  }
  
  .nav-brand {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    min-width: 0;
    flex: 1;
  }
  
  .mobile-hamburger {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
}

@media (min-width: 1025px) {
  .navigation {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-s) var(--space-l);
  }
}

.nav-brand {
  display: flex;
  align-items: center;
  gap: var(--space-2xs);
}

.brand-link {
  display: flex;
  align-items: center;
  gap: var(--space-2xs);
  text-decoration: none;
  color: inherit;
  transition: all 0.2s var(--ease-out-2);
}

.brand-link:hover {
  transform: scale(1.05);
}

.nav-logo {
  width: 2rem;
  height: 2rem;
  border-radius: var(--radius-2);
  background: linear-gradient(135deg, var(--brand-primary), var(--accent-sage));
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: 700;
  font-size: var(--step--1);
}

.nav-title {
  font-size: var(--step-1);
  font-weight: 700;
  color: var(--text-1);
  background: linear-gradient(135deg, var(--brand-primary), var(--accent-sage));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.nav-items {
  display: flex;
  flex-wrap: nowrap;
  gap: clamp(0.25rem, 1vw, 0.5rem);
  justify-content: center;
  overflow-x: auto;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.nav-items::-webkit-scrollbar {
  display: none;
}

/* Hide desktop nav on mobile/tablet */
@media (max-width: 1024px) {
  .desktop-nav {
    display: none;
  }
  
  /* Mobile menu should be the only UI on small screens */
  .nav-items,
  .nav-user,
  .desktop-theme-toggle,
  .user-dropdown-hover,
  .user-avatar-icon {
    display: none;
  }
}

/* Show desktop nav only on larger screens */
@media (min-width: 1025px) {
  .mobile-hamburger {
    display: none;
  }
}

/* Mobile hamburger container */
.mobile-hamburger {
  display: none;
  position: relative;
  z-index: 1002;
  border-radius: var(--radius-2);
}

@media (max-width: 1024px) {
  .mobile-hamburger {
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

/* Style the hamburger-react component */
.mobile-hamburger button {
  border-radius: var(--radius-2) !important;
  transition: all 0.2s var(--ease-out-2);
}

.mobile-hamburger button:focus-visible {
  background: linear-gradient(135deg, 
    oklch(from var(--brand-primary) l c h / 0.1), 
    oklch(from var(--accent-sage) l c h / 0.1)
  ) !important;
  box-shadow: 
    0 0 0 2px var(--surface-1),
    0 2px 8px oklch(25% 0.03 240 / 0.15);
  transform: scale(1.05);
}

.mobile-hamburger button:focus-visible::before {
  content: '';
  position: absolute;
  inset: -4px;
  background: linear-gradient(135deg, var(--brand-primary), var(--accent-sage));
  border-radius: calc(var(--radius-2) + 4px);
  opacity: 0.4;
  z-index: -1;
}

/* Mobile Menu Overlay & Slide-out */
.mobile-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: oklch(0% 0 0 / 0.5);
  z-index: 1000;
  animation: fadeIn 0.3s ease;
}

.mobile-menu {
  position: fixed;
  top: 79px;
  right: 0;
  width: min(320px, 85vw);
  height: calc(100vh - 79px);
  background: var(--surface-1);
  border-left: 1px solid var(--border-1);
  box-shadow: -8px 0 32px oklch(25% 0.03 240 / 0.15);
  z-index: 1001;
  display: flex;
  flex-direction: column;
  animation: slideInRight 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes slideInRight {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

.mobile-menu-items {
  flex: 1;
  padding: 0 0 var(--space-l) 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-3xs);
}

.mobile-menu-item {
  display: flex;
  align-items: center;
  gap: var(--space-s);
  padding: var(--space-s) var(--space-l);
  color: var(--text-1);
  text-decoration: none;
  font-weight: 500;
  transition: all 0.2s ease;
  border-left: 3px solid transparent;
}

.mobile-menu-item:hover {
  background: var(--surface-2);
  border-left-color: var(--brand-primary);
}

.mobile-menu-item.active {
  background: var(--brand-50);
  color: var(--brand-primary);
  border-left-color: var(--brand-primary);
}

.mobile-menu-footer {
  padding: var(--space-l);
  border-top: 1px solid var(--border-1);
  background: var(--surface-2);
}

.mobile-user-section {
  display: flex;
  flex-direction: column;
  gap: var(--space-s);
}

.mobile-user-info {
  display: flex;
  align-items: center;
  gap: var(--space-s);
  padding: var(--space-s);
  background: var(--surface-1);
  border-radius: var(--radius-2);
  border: 1px solid var(--border-1);
}

.user-avatar-mobile {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2.5rem;
  height: 2.5rem;
  background: var(--brand-50);
  border-radius: 50%;
  color: var(--brand-primary);
  flex-shrink: 0;
}

.user-details {
  flex: 1;
  min-width: 0;
}

.user-details .user-name {
  font-weight: 600;
  color: var(--text-1);
  font-size: var(--step--1);
  margin-bottom: 0.25rem;
}

.user-details .user-email {
  font-size: var(--step--2);
  color: var(--text-2);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.mobile-actions {
  display: flex;
  flex-direction: column;
  gap: var(--space-s);
  padding-top: var(--space-s);
  border-top: 1px solid var(--border-1);
}

.mobile-logout {
  width: 100%;
  padding: var(--space-s);
  text-align: center;
  border-radius: var(--radius-2);
  background: var(--surface-1);
  border: 1px solid var(--border-1);
  transition: all 0.2s ease;
}

.mobile-logout:hover {
  background: var(--surface-2);
  border-color: var(--brand-primary);
}

@media (min-width: 768px) {
  .nav-items {
    justify-content: flex-end;
    gap: var(--space-2xs);
  }
}

.nav-item {
  display: flex;
  align-items: center;
  gap: clamp(0.125rem, 0.5vw, 0.25rem);
  padding: clamp(0.25rem, 1vw, 0.5rem) clamp(0.375rem, 1.5vw, 0.75rem);
  border-radius: var(--radius-2);
  text-decoration: none;
  color: var(--text-2);
  font-weight: 500;
  font-size: clamp(0.75rem, 2vw, 0.875rem);
  transition: all 0.2s var(--ease-out-2);
  position: relative;
  min-width: fit-content;
}

.nav-item::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--brand-primary);
  border-radius: inherit;
  opacity: 0;
  transition: opacity 0.2s var(--ease-out-2);
}

.nav-item:hover::before {
  opacity: 0.1;
}

.nav-item:hover {
  color: var(--text-1);
  transform: translateY(-1px);
}

.nav-item.active {
  color: var(--brand-primary);
  background: var(--brand-primary-light);
}

.nav-user {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  margin-top: var(--space-2xs);
}

@media (min-width: 768px) {
  .nav-user {
    margin-top: 0;
  }
}

.main-content {
  flex: 1;
  padding: var(--space-xl) var(--space-s) var(--space-s);
  background: var(--surface-2);
  min-height: 0;
}

@media (min-width: 768px) {
  .main-content {
    padding: var(--space-2xl) var(--space-l) var(--space-l);
  }
}

.dashboard-container {
  max-width: 100vw;
  margin: 0 auto;
  padding: 0 clamp(0.5rem, 2vw, 1rem);
  box-sizing: border-box;
  display: grid;
  gap: var(--space-xl);
  grid-template-areas:
    'header'
    'stats'
    'actions'
    'activity';
}

@media (min-width: 1025px) {
  .dashboard-container {
    max-width: 1400px;
    padding: 0;
  }
}

.dashboard-header {
  grid-area: header;
  text-align: center;
  animation: var(--animation-fade-in);
}

.dashboard-title {
  font-size: var(--step-2);
  font-weight: 700;
  color: var(--text-1);
  margin-bottom: var(--space-2xs);
  line-height: 1.1;
  animation: var(--animation-slide-from-left);
  animation-delay: 0.2s;
  animation-fill-mode: both;
  text-align: center;
}

@media (min-width: 768px) {
  .dashboard-title {
    font-size: var(--step-3);
  }
}

@media (min-width: 1024px) {
  .dashboard-title {
    font-size: var(--step-4);
  }
}

.dashboard-subtitle {
  font-size: var(--step--1);
  color: var(--text-2);
  max-width: 90vw;
  margin: 0 auto;
  text-align: center;
  animation: var(--animation-fade-in);
  animation-delay: 0.4s;
  animation-fill-mode: both;
}

@media (min-width: 768px) {
  .dashboard-subtitle {
    font-size: var(--step-0);
    max-width: 60ch;
  }
}

.gradient-text {
  background: linear-gradient(135deg, var(--brand-primary), var(--accent-sage));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.stats-grid {
  grid-area: stats;
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-s);
}

@media (min-width: 640px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .stats-grid {
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-l);
  }
}

.stat-card {
  background: var(--surface-1);
  padding: var(--space-s);
  border-radius: var(--radius-3);
  border: 1px solid var(--border-1);
  display: flex;
  align-items: center;
  gap: var(--space-2xs);
  transition: all 0.3s var(--ease-out-2);
  animation: var(--animation-scale-up);
  animation-delay: calc(var(--index, 0) * 0.1s + 0.6s);
  animation-fill-mode: both;
  position: relative;
  overflow: hidden;
}

@media (min-width: 768px) {
  .stat-card {
    padding: var(--space-l);
    border-radius: var(--radius-4);
    gap: var(--space-s);
  }
}

.stat-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--brand-primary);
  opacity: 0;
  transition: opacity 0.3s var(--ease-out-2);
}

.stat-card:hover::before {
  opacity: 0.02;
}

.stat-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-3);
  border-color: var(--brand-primary);
}

.stat-card:nth-child(1) {
  --index: 1;
}
.stat-card:nth-child(2) {
  --index: 2;
}
.stat-card:nth-child(3) {
  --index: 3;
}
.stat-card:nth-child(4) {
  --index: 4;
}

.stat-icon {
  font-size: var(--step-3);
  background: var(--surface-3);
  width: 4rem;
  height: 4rem;
  border-radius: var(--radius-3);
  display: flex;
  align-items: center;
  justify-content: center;
}

.stat-content {
  flex: 1;
}

.stat-number {
  font-size: var(--step-3);
  font-weight: 700;
  color: var(--text-1);
  margin-bottom: var(--space-3xs);
  line-height: 1;
}

.stat-label {
  color: var(--text-2);
  font-size: var(--step--1);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.quick-actions {
  grid-area: actions;
}

.section-title {
  font-size: var(--step-2);
  font-weight: 600;
  color: var(--text-1);
  margin-bottom: var(--space-l);
  position: relative;
  padding-left: var(--space-s);
}

.section-title::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: linear-gradient(135deg, var(--brand-primary), var(--accent-sage));
  border-radius: var(--radius-pill);
}

.actions-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-s);
}

@media (min-width: 768px) {
  .actions-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .actions-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-l);
  }
}

.action-card {
  background: var(--surface-1);
  padding: var(--space-l);
  border-radius: var(--radius-4);
  border: 1px solid var(--border-1);
  text-decoration: none;
  color: inherit;
  transition: all 0.3s var(--ease-out-2);
  display: block;
  position: relative;
  overflow: hidden;
  animation: var(--animation-slide-from-bottom);
  animation-delay: calc(var(--index, 0) * 0.1s + 0.6s);
  animation-fill-mode: both;
}

.action-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--brand-primary);
  opacity: 0;
  transition: opacity 0.3s var(--ease-out-2);
}

.action-card:hover::before {
  opacity: 0.02;
}

.action-card:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-3);
  border-color: var(--brand-primary);
}

.action-card:nth-child(1) {
  --index: 1;
}
.action-card:nth-child(2) {
  --index: 2;
}
.action-card:nth-child(3) {
  --index: 3;
}

.action-icon {
  font-size: var(--step-4);
  margin-bottom: var(--space-s);
  display: block;
}

.action-title {
  font-size: var(--step-1);
  font-weight: 600;
  color: var(--text-1);
  margin-bottom: var(--space-2xs);
  line-height: 1.3;
}

.action-description {
  color: var(--text-2);
  line-height: 1.5;
  font-size: var(--step--1);
}

.recent-activity {
  grid-area: activity;
  background: var(--surface-1);
  padding: var(--space-xl);
  border-radius: var(--radius-4);
  border: 1px solid var(--border-1);
}

/* Mobile optimization for recent activity */
@media (max-width: 768px) {
  .recent-activity {
    padding: var(--space-s);
    margin: 0;
  }
}

.deck-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-s);
  align-items: start;
  justify-items: center;
}

/* Mobile optimization for deck grid */
@media (max-width: 768px) {
  .deck-grid {
    gap: var(--space-xs);
    padding: 0;
  }
}

@media (min-width: 768px) {
  .deck-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1200px) {
  .deck-grid {
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: var(--space-l);
  }
}

.deck-card {
  background: 
    linear-gradient(135deg, var(--gradient-from) 0%, var(--gradient-to) 100%),
    var(--surface-1);
  border: 1px solid var(--border-1);
  border-radius: var(--radius-4);
  padding: var(--space-l);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  width: 100%;
  max-width: 100%;
  overflow: hidden;
  animation: var(--animation-scale-up);
  animation-delay: calc(var(--index, 0) * 0.1s + 0.6s);
  animation-fill-mode: both;
  
  /* CSS Subgrid for perfect internal alignment */
  display: grid;
  grid-template-rows: subgrid;
  grid-row: span 4;
  grid-template-areas:
    'header'
    'description'
    'spacer'
    'actions';
  
  /* Modern layered shadows */
  box-shadow:
    0 1px 0 oklch(100% 0 0 / 0.8) inset,
    0 -1px 0 oklch(88% 0.01 240 / 0.1) inset,
    0 2px 4px oklch(25% 0.03 240 / 0.04),
    0 4px 12px oklch(25% 0.03 240 / 0.06),
    0 8px 24px oklch(25% 0.03 240 / 0.04);
}

/* Mobile optimization for deck cards */
@media (max-width: 768px) {
  .deck-card {
    padding: var(--space-s);
    margin: 0 auto;
    max-width: calc(100vw - 2rem);
    box-sizing: border-box;
  }
}

.deck-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: 
    radial-gradient(circle at 50% 0%, var(--brand-primary) 0%, transparent 50%),
    linear-gradient(135deg, var(--brand-primary) 0%, var(--accent-sage) 100%);
  opacity: 0;
  transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.deck-card:hover::before {
  opacity: 0.03;
}

.deck-card:hover {
  transform: translateY(-6px) scale(1.02);
  box-shadow:
    0 1px 0 oklch(100% 0 0 / 0.9) inset,
    0 -1px 0 oklch(88% 0.01 240 / 0.2) inset,
    0 8px 16px oklch(25% 0.03 240 / 0.08),
    0 16px 32px oklch(25% 0.03 240 / 0.12),
    0 24px 48px oklch(25% 0.03 240 / 0.08),
    0 0 0 1px var(--brand-primary) / 0.1;
  border-color: var(--brand-primary) / 0.3;
}

.deck-card:nth-child(1) {
  --index: 1;
}
.deck-card:nth-child(2) {
  --index: 2;
}
.deck-card:nth-child(3) {
  --index: 3;
}
.deck-card:nth-child(4) {
  --index: 4;
}

.deck-header {
  grid-area: header;
  display: flex;
  justify-content: space-between;
  align-items: start;
  gap: var(--space-2xs);
}

.deck-title {
  font-size: var(--step-1);
  font-weight: 700;
  color: var(--text-1);
  margin: 0;
  line-height: 1.2;
  flex: 1;
  transition: color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  letter-spacing: -0.01em;
}

.deck-card:hover .deck-title {
  background: linear-gradient(135deg, var(--brand-primary), var(--accent-sage));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.deck-count {
  background: 
    linear-gradient(135deg, var(--surface-2) 0%, var(--gradient-accent) 100%);
  color: var(--text-1);
  padding: var(--space-3xs) var(--space-xs);
  border-radius: var(--radius-pill);
  font-size: var(--step--2);
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  flex-shrink: 0;
  border: 1px solid var(--border-1);
  box-shadow: 
    0 1px 0 oklch(100% 0 0 / 0.8) inset,
    0 1px 3px oklch(25% 0.03 240 / 0.08);
  letter-spacing: 0.02em;
}

.deck-card:hover .deck-count {
  background: 
    linear-gradient(135deg, var(--brand-primary) 0%, var(--brand-primary-hover) 100%);
  color: white;
  transform: scale(1.05);
  box-shadow: 
    0 1px 0 oklch(75% 0.2 240) inset,
    0 2px 6px oklch(25% 0.03 240 / 0.12),
    0 0 0 1px var(--brand-primary) / 0.2;
  border-color: var(--brand-primary);
}

.deck-description {
  grid-area: description;
  color: var(--text-2);
  line-height: 1.5;
  font-size: var(--step--1);
}

/* Auto-expanding spacer for perfect button alignment */
.deck-spacer {
  grid-area: spacer;
  min-height: var(--space-2xs);
}

.deck-actions {
  grid-area: actions;
  display: flex;
  gap: var(--space-2xs);
  margin-top: auto;
}

/* === JHEY TOMPKINS STYLE BUTTONS === */
.btn-primary {
  --btn-bg: var(--brand-primary);
  --btn-color: white;
  --btn-border: oklch(45% 0.2 240);
  --btn-shadow: oklch(35% 0.15 240);
  --btn-highlight: oklch(75% 0.2 240);

  background: linear-gradient(
    145deg,
    var(--btn-highlight) 0%,
    var(--btn-bg) 50%,
    var(--btn-border) 100%
  );
  color: var(--btn-color);
  border: 2px solid var(--btn-border);
  padding: var(--space-2xs) var(--space-s);
  border-radius: var(--radius-3);
  font-weight: 700;
  font-size: var(--step--1);
  text-decoration: none;
  text-shadow: 0 1px 2px oklch(0% 0 0 / 0.3);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-3xs);
  cursor: pointer;
  position: relative;

  /* Jhey's signature multi-layer shadows */
  box-shadow:
    0 1px 0 var(--btn-highlight) inset,
    0 -1px 0 var(--btn-border) inset,
    0 2px 4px var(--btn-shadow) / 0.2,
    0 4px 8px var(--btn-shadow) / 0.1,
    0 8px 16px var(--btn-shadow) / 0.05;

  transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  transform-style: preserve-3d;
}

.btn-primary::before {
  content: '';
  position: absolute;
  inset: 2px;
  background: linear-gradient(
    145deg,
    oklch(80% 0.25 240) 0%,
    oklch(40% 0.18 240) 100%
  );
  border-radius: calc(var(--radius-3) - 2px);
  opacity: 0;
  transition: opacity 0.2s ease;
  z-index: -1;
}

.btn-primary::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(
    ellipse at top,
    oklch(100% 0 0 / 0.3) 0%,
    transparent 70%
  );
  border-radius: var(--radius-3);
  opacity: 0;
  transition: opacity 0.2s ease;
  pointer-events: none;
}

.btn-primary:hover {
  transform: translateY(-1px) rotateX(5deg);
  box-shadow:
    0 1px 0 var(--btn-highlight) inset,
    0 -1px 0 var(--btn-border) inset,
    0 4px 8px var(--btn-shadow) / 0.3,
    0 8px 16px var(--btn-shadow) / 0.2,
    0 16px 32px var(--btn-shadow) / 0.1;
}

.btn-primary:hover::before {
  opacity: 1;
}

.btn-primary:hover::after {
  opacity: 1;
}

.btn-primary:active {
  transform: translateY(0) rotateX(0deg) scale(0.98);
  box-shadow:
    0 1px 0 var(--btn-highlight) inset,
    0 -1px 0 var(--btn-border) inset,
    0 1px 2px var(--btn-shadow) / 0.2;
}

.btn-secondary {
  --btn-bg: var(--surface-1);
  --btn-color: var(--text-1);
  --btn-border: var(--border-1);
  --btn-shadow: oklch(25% 0.03 240);
  --btn-highlight: oklch(100% 0 0);

  background: linear-gradient(
    145deg,
    var(--btn-highlight) 0%,
    var(--btn-bg) 50%,
    oklch(92% 0.01 240) 100%
  );
  color: var(--btn-color);
  border: 2px solid var(--btn-border);
  padding: var(--space-2xs) var(--space-s);
  border-radius: var(--radius-3);
  font-weight: 700;
  font-size: var(--step--1);
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-3xs);
  cursor: pointer;
  position: relative;

  /* Multi-layer depth */
  box-shadow:
    0 1px 0 var(--btn-highlight) inset,
    0 -1px 0 oklch(88% 0.005 240) inset,
    0 2px 4px var(--btn-shadow) / 0.1,
    0 4px 8px var(--btn-shadow) / 0.05,
    0 0 0 1px oklch(85% 0.01 240);

  transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  transform-style: preserve-3d;
}

.btn-secondary::before {
  content: '';
  position: absolute;
  inset: -2px;
  background: conic-gradient(
    from 45deg,
    var(--brand-primary),
    var(--accent-sage),
    var(--brand-primary)
  );
  border-radius: calc(var(--radius-3) + 2px);
  opacity: 0;
  transition: opacity 0.25s ease;
  z-index: -1;
  animation: gentle-glow 2s ease-in-out infinite;
  animation-play-state: paused;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

@keyframes gentle-glow {
  0%,
  100% {
    opacity: 0.3;
  }
  50% {
    opacity: 0.7;
  }
}

.btn-secondary::after {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--btn-bg);
  border-radius: var(--radius-3);
  z-index: -1;
}

.btn-secondary:hover {
  color: var(--brand-primary);
  border-color: var(--brand-primary);
  transform: translateY(-1px) rotateX(5deg);
  box-shadow:
    0 1px 0 var(--btn-highlight) inset,
    0 -1px 0 var(--brand-primary) / 0.3 inset,
    0 4px 8px var(--btn-shadow) / 0.15,
    0 8px 16px var(--btn-shadow) / 0.1,
    0 0 0 2px var(--brand-primary) / 0.2;
}

.btn-secondary:hover::before {
  opacity: 0.5;
  animation-play-state: running;
}

.btn-secondary:active {
  transform: translateY(0) rotateX(0deg) scale(0.98);
  box-shadow:
    0 1px 0 var(--btn-highlight) inset,
    0 -1px 0 var(--brand-primary) / 0.2 inset,
    0 1px 2px var(--btn-shadow) / 0.1;
}

.deck-actions {
  flex-direction: column;
}

@media (min-width: 640px) {
  .deck-actions {
    flex-direction: row;
  }
}

.deck-actions .btn-primary,
.deck-actions .btn-secondary {
  flex: 1;
  text-align: center;
  padding: var(--space-2xs) var(--space-xs);
  font-size: var(--step--2);
  font-weight: 500;
}

@media (min-width: 768px) {
  .deck-actions .btn-primary,
  .deck-actions .btn-secondary {
    font-size: var(--step--1);
  }
}

/* === JHEY TOMPKINS SIGNATURE FLASHCARD COMPONENT === */
.flashcard {
  --card-width: 350px;
  --card-height: 520px;
  --card-perspective: 1000px;
  --flip-duration: 0.8s;
  --hover-lift: -8px;
  --glow-opacity: 0;

  position: relative;
  width: var(--card-width);
  height: var(--card-height);
  perspective: var(--card-perspective);
  cursor: pointer;
  margin: 0 auto;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.flashcard:hover {
  transform: translateY(var(--hover-lift)) rotateX(2deg) rotateY(2deg);
  --glow-opacity: 0.6;
}

.flashcard:active {
  transform: translateY(-2px) scale(0.98);
}

/* Size Variants */
.flashcard--small {
  --card-width: 280px;
  --card-height: 420px;
}

.flashcard--large {
  --card-width: 420px;
  --card-height: 620px;
}

/* Difficulty Variants with Jhey's signature color magic */
.flashcard--easy {
  --difficulty-color: oklch(75% 0.15 160);
  --difficulty-glow: oklch(75% 0.25 160);
  --difficulty-bg: oklch(98% 0.03 160);
}

.flashcard--medium {
  --difficulty-color: oklch(70% 0.18 45);
  --difficulty-glow: oklch(70% 0.28 45);
  --difficulty-bg: oklch(98% 0.03 45);
}

.flashcard--hard {
  --difficulty-color: oklch(65% 0.22 0);
  --difficulty-glow: oklch(65% 0.32 0);
  --difficulty-bg: oklch(98% 0.03 0);
}

/* The magical 3D flip container */
.flashcard__inner {
  position: relative;
  width: 100%;
  height: 100%;
  text-align: center;
  transition: transform var(--flip-duration) cubic-bezier(0.4, 0, 0.2, 1);
  transform-style: preserve-3d;
  border-radius: var(--radius-4);
}

.flashcard--flipped .flashcard__inner {
  transform: rotateY(180deg);
}

.flashcard--revealing .flashcard__inner {
  transform: rotateY(180deg);
}

/* Hide content during card transitions */
.flashcard--transitioning .flashcard__content,
.flashcard--transitioning .flashcard__question,
.flashcard--transitioning .flashcard__answer,
.flashcard--transitioning .flashcard__tags,
.flashcard--transitioning .flashcard__category {
  opacity: 0;
  transition: opacity 0.2s ease-out;
}

/* Card sides with Jhey's depth mastery */
.flashcard__front,
.flashcard__back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: var(--radius-4);
  padding: var(--space-l) var(--space-l) var(--space-xl) var(--space-l);
  display: flex;
  flex-direction: column;
  gap: var(--space-s);

  /* Jhey's signature multi-layer shadows */
  box-shadow:
    0 1px 0 oklch(100% 0 0 / 0.8) inset,
    0 -1px 0 oklch(88% 0.01 240) inset,
    0 4px 8px oklch(25% 0.03 240 / 0.1),
    0 8px 24px oklch(25% 0.03 240 / 0.08),
    0 16px 48px oklch(25% 0.03 240 / 0.04),
    0 0 0 1px var(--difficulty-color) / 0.1;

  background:
    radial-gradient(
      ellipse at top left,
      var(--difficulty-bg) 0%,
      var(--surface-1) 40%
    ),
    linear-gradient(135deg, var(--gradient-from) 0%, var(--gradient-accent) 100%);

  border: 2px solid var(--difficulty-color) / 0.2;
  overflow: hidden;
}

.flashcard__back {
  transform: rotateY(180deg);
  background: var(--surface-1);
  border: 1px solid var(--border-1);
}

/* Header with floating difficulty badge */
.flashcard__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--space-2xs);
  margin-bottom: var(--space-xs);
}

.flashcard__difficulty {
  position: relative;
  background: var(--difficulty-color);
  color: white;
  padding: var(--space-3xs) var(--space-2xs);
  border-radius: var(--radius-pill);
  font-size: var(--step--2);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  text-shadow: 0 1px 2px oklch(0% 0 0 / 0.3);

  /* Jhey's floating effect */
  box-shadow:
    0 2px 4px var(--difficulty-color) / 0.3,
    0 4px 12px var(--difficulty-color) / 0.2,
    0 1px 0 oklch(100% 0 0 / 0.3) inset;

  animation: floatBadge 3s ease-in-out infinite;
}

@keyframes floatBadge {
  0%,
  100% {
    transform: translateY(0) rotate(0deg);
  }
  50% {
    transform: translateY(-2px) rotate(1deg);
  }
}

.flashcard__category {
  color: var(--text-2);
  font-size: var(--step--2);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  opacity: 0.8;
}

/* Content areas with proper typography */
.flashcard__content {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: var(--space-s) 0;
}

.flashcard__question,
.flashcard__answer {
  font-size: var(--step-1);
  font-weight: 500;
  line-height: 1.4;
  color: var(--text-1);
  max-width: 100%;
  word-wrap: break-word;
}

.flashcard__answer {
  font-weight: 600;
  color: var(--difficulty-color);
}

/* Footer with tags and actions */
.flashcard__footer {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  gap: var(--space-2xs);
  margin-top: auto;
}

.flashcard__tags {
  display: flex;
  gap: var(--space-3xs);
  flex-wrap: wrap;
}

.flashcard__tag {
  background: var(--surface-3);
  color: var(--text-2);
  padding: var(--space-3xs) var(--space-2xs);
  border-radius: var(--radius-2);
  font-size: var(--step--2);
  font-weight: 500;
  transition: all 0.2s var(--ease-out-2);
}

.flashcard__tag:hover {
  background: var(--difficulty-color) / 0.1;
  color: var(--difficulty-color);
}

/* Reveal button with Jhey's playful style */
.flashcard__flip-hint {
  display: flex;
  align-items: center;
  gap: var(--space-3xs);
  background: none;
  border: 2px solid var(--difficulty-color) / 0.3;
  color: var(--difficulty-color);
  padding: var(--space-3xs) var(--space-2xs);
  border-radius: var(--radius-pill);
  font-size: var(--step--2);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.flashcard__flip-hint::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--difficulty-color);
  transform: translateX(-100%);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: -1;
}

.flashcard__flip-hint:hover {
  color: white;
  border-color: var(--difficulty-color);
  transform: translateY(-1px);
}

.flashcard__flip-hint:hover::before {
  transform: translateX(0);
}

.flashcard__flip-icon {
  animation: blink 2s ease-in-out infinite;
}

@keyframes blink {
  0%,
  90%,
  100% {
    opacity: 1;
  }
  95% {
    opacity: 0.3;
  }
}

/* Answer action buttons with magical effects */
.flashcard__actions {
  display: flex;
  gap: var(--space-2xs);
  margin-top: var(--space-s);
  margin-bottom: var(--space-s);
  padding-bottom: var(--space-2xs);
}

.flashcard__action {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-3xs);
  padding: var(--space-2xs) var(--space-xs);
  border-radius: var(--radius-3);
  font-weight: 700;
  font-size: var(--step--1);
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  transform-style: preserve-3d;
}

.flashcard__action--correct {
  background: linear-gradient(135deg, oklch(75% 0.15 160), oklch(70% 0.18 160));
  border: 2px solid oklch(65% 0.2 160);
  color: white;
  text-shadow: 0 1px 2px oklch(0% 0 0 / 0.3);
}

.flashcard__action--incorrect {
  background: linear-gradient(135deg, oklch(70% 0.2 0), oklch(65% 0.22 0));
  border: 2px solid oklch(60% 0.24 0);
  color: white;
  text-shadow: 0 1px 2px oklch(0% 0 0 / 0.3);
}

.flashcard__action:hover {
  transform: translateY(-2px) rotateX(5deg);
}

.flashcard__action:active {
  transform: translateY(0) scale(0.95);
}

/* Jhey's signature sparkle magic */
.flashcard__sparkles {
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: var(--radius-4);
  overflow: hidden;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.flashcard:hover .flashcard__sparkles {
  opacity: 1;
}

.flashcard__sparkle {
  position: absolute;
  font-size: var(--step--1);
  animation: sparkle 2s ease-in-out infinite;
}

.flashcard__sparkle--1 {
  top: 10%;
  left: 15%;
  animation-delay: 0s;
}

.flashcard__sparkle--2 {
  top: 20%;
  right: 20%;
  animation-delay: 0.5s;
}

.flashcard__sparkle--3 {
  bottom: 25%;
  left: 10%;
  animation-delay: 1s;
}

.flashcard__sparkle--4 {
  bottom: 15%;
  right: 15%;
  animation-delay: 1.5s;
}

@keyframes sparkle {
  0%,
  100% {
    opacity: 0;
    transform: scale(0) rotate(0deg);
  }
  50% {
    opacity: 1;
    transform: scale(1) rotate(180deg);
  }
}

/* Magical glow effect */
.flashcard__glow {
  position: absolute;
  inset: -4px;
  background: conic-gradient(
    from 0deg,
    var(--difficulty-glow) / 0.3,
    transparent 30%,
    transparent 70%,
    var(--difficulty-glow) / 0.3
  );
  border-radius: calc(var(--radius-4) + 4px);
  opacity: var(--glow-opacity);
  animation: rotateGlow 3s linear infinite;
  transition: opacity 0.3s ease;
  z-index: -1;
  filter: blur(8px);
}

@keyframes rotateGlow {
  to {
    transform: rotate(360deg);
  }
}

/* Mobile optimizations */
@media (max-width: 640px) {
  .flashcard {
    --card-width: 280px;
    --card-height: 420px;
  }

  .flashcard__front,
  .flashcard__back {
    padding: var(--space-s) var(--space-s) var(--space-l) var(--space-s);
  }

  .flashcard__question,
  .flashcard__answer {
    font-size: var(--step-0);
  }

  .flashcard__actions {
    flex-direction: column;
    margin-bottom: var(--space-s);
    padding-bottom: var(--space-xs);
  }
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
  .flashcard,
  .flashcard__inner,
  .flashcard__sparkle,
  .flashcard__glow,
  .flashcard__difficulty {
    animation: none !important;
    transition-duration: 0.1s !important;
  }

  .flashcard:hover {
    transform: none;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .flashcard__front,
  .flashcard__back {
    border-width: 3px;
    background: var(--surface-1);
  }
}

/* === STUDY INTERFACE STYLING === */
.study-container {
  min-height: 100vh;
  display: grid;
  grid-template-rows: auto 1fr auto;
  grid-template-areas:
    'header'
    'main'
    'footer';
  background: var(--surface-2);
  padding: var(--space-s);
}

@media (min-width: 768px) {
  .study-container {
    padding: var(--space-l);
  }
}

.study-header {
  grid-area: header;
  display: flex;
  flex-direction: column;
  gap: var(--space-s);
  margin-bottom: var(--space-l);
  padding: var(--space-s);
  background: var(--surface-1);
  border-radius: var(--radius-3);
  border: 1px solid var(--border-1);
}

@media (min-width: 768px) {
  .study-header {
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-l);
  }
}

.study-navigation {
  display: flex;
  align-items: center;
  gap: var(--space-s);
}

.study-back-btn {
  display: flex;
  align-items: center;
  padding: var(--space-2xs) var(--space-xs);
  background: var(--surface-3);
  color: var(--text-2);
  text-decoration: none;
  border-radius: var(--radius-2);
  font-weight: 500;
  font-size: var(--step--1);
  transition: all 0.2s var(--ease-out-2);
}

.study-back-btn:hover {
  background: var(--brand-primary);
  color: white;
  transform: translateX(-2px);
}

.study-title {
  font-size: var(--step-1);
  font-weight: 700;
  color: var(--text-1);
  margin: 0;
}

@media (min-width: 768px) {
  .study-title {
    font-size: var(--step-2);
  }
}

.study-progress {
  background: var(--brand-primary);
  color: white;
  padding: var(--space-3xs) var(--space-2xs);
  border-radius: var(--radius-pill);
  font-size: var(--step--2);
  font-weight: 700;
  text-shadow: 0 1px 2px oklch(0% 0 0 / 0.3);
  box-shadow: 0 2px 4px var(--brand-primary) / 0.3;
}

.study-score {
  display: flex;
  gap: var(--space-2xs);
}

.score-item {
  display: flex;
  align-items: center;
  gap: var(--space-3xs);
  padding: var(--space-2xs) var(--space-xs);
  border-radius: var(--radius-2);
  font-weight: 600;
  font-size: var(--step--1);
}

.score-item--correct {
  background: oklch(98% 0.03 160);
  color: oklch(65% 0.2 160);
  border: 1px solid oklch(75% 0.15 160) / 0.3;
}

.score-item--incorrect {
  background: oklch(98% 0.03 0);
  color: oklch(65% 0.22 0);
  border: 1px solid oklch(70% 0.2 0) / 0.3;
}

.study-main {
  grid-area: main;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-l) 0;
  min-height: 0;
}

.study-footer {
  grid-area: footer;
  display: flex;
  flex-direction: column;
  gap: var(--space-s);
  align-items: center;
  margin-top: var(--space-l);
}

.study-controls {
  display: flex;
  gap: var(--space-s);
}

.study-control-btn {
  display: flex;
  align-items: center;
  padding: var(--space-2xs) var(--space-s);
  background: var(--surface-1);
  border: 2px solid var(--border-1);
  border-radius: var(--radius-3);
  color: var(--text-1);
  font-weight: 600;
  font-size: var(--step--1);
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

  box-shadow:
    0 1px 0 oklch(100% 0 0 / 0.5) inset,
    0 2px 4px oklch(25% 0.03 240 / 0.1);
}

.study-control-btn:hover:not(:disabled) {
  background: var(--brand-primary);
  border-color: var(--brand-primary);
  color: white;
  transform: translateY(-1px);
  box-shadow:
    0 1px 0 oklch(100% 0 0 / 0.3) inset,
    0 4px 8px var(--brand-primary) / 0.2;
}

.study-control-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.study-hint {
  text-align: center;
  color: var(--text-2);
  font-size: var(--step--1);
  font-style: italic;
  opacity: 0.8;
}

/* Mobile optimizations for study interface */
@media (max-width: 640px) {
  .study-navigation {
    justify-content: space-between;
    width: 100%;
  }

  .study-title {
    font-size: var(--step-0);
    flex: 1;
    text-align: center;
  }

  .study-controls {
    flex-direction: column;
    width: 100%;
    max-width: 280px;
  }

  .study-control-btn {
    justify-content: center;
  }
}

/* === INTELLIGENT STUDY SESSION COMPONENT === */
.study-session {
  min-height: 100vh;
  display: grid;
  grid-template-rows: auto 1fr auto;
  grid-template-areas:
    'header'
    'main'
    'controls';
  background: var(--surface-2);
  padding: var(--space-s);
  max-width: 100vw;
  overflow-x: hidden;
}

@media (min-width: 768px) {
  .study-session {
    padding: var(--space-l);
  }
}

.study-session-header {
  grid-area: header;
  display: flex;
  flex-direction: column;
  gap: var(--space-s);
  padding: var(--space-s);
  background: var(--surface-1);
  border-radius: var(--radius-3);
  border: 1px solid var(--border-1);
  margin-bottom: var(--space-l);
  max-width: 100%;
  overflow: hidden;
}

@media (min-width: 768px) {
  .study-session-header {
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-l);
  }
}

.session-progress {
  flex: 1;
  width: 100%;
}

@media (min-width: 768px) {
  .session-progress {
    max-width: 300px;
  }
}

.progress-bar {
  width: 100%;
  height: 8px;
  background: var(--surface-3);
  border-radius: var(--radius-pill);
  overflow: hidden;
  margin-bottom: var(--space-2xs);
  position: relative;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--brand-primary), var(--accent-sage));
  border-radius: var(--radius-pill);
  transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

.progress-fill::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 20px;
  height: 100%;
  background: linear-gradient(90deg, transparent, oklch(100% 0 0 / 0.3));
  animation: progressShine 2s ease-in-out infinite;
}

@keyframes progressShine {
  0%,
  100% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
}

.progress-text {
  text-align: center;
  font-size: var(--step--2);
  font-weight: 600;
  color: var(--text-2);
}

.session-stats {
  display: flex;
  gap: var(--space-2xs);
  width: 100%;
  justify-content: space-between;
}

.session-stats .stat {
  flex: 1;
  text-align: center;
  min-width: 0;
}

@media (min-width: 480px) {
  .session-stats {
    gap: var(--space-s);
  }
}

@media (min-width: 768px) {
  .session-stats {
    justify-content: flex-end;
    width: auto;
  }
  
  .session-stats .stat {
    flex: 0 0 auto;
    text-align: left;
  }
}

.stat {
  display: flex;
  align-items: center;
  gap: var(--space-3xs);
  padding: var(--space-3xs) var(--space-2xs);
  background: var(--surface-3);
  border-radius: var(--radius-2);
  font-weight: 600;
  font-size: var(--step--1);
  white-space: nowrap;
  flex: 0 0 auto;
}

@media (min-width: 480px) {
  .stat {
    padding: var(--space-2xs) var(--space-xs);
  }
}

.stat-icon {
  font-size: var(--step-0);
}

.stat-value {
  color: var(--text-1);
}

.study-session-main {
  grid-area: main;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-l) 0;
  max-width: 100%;
  overflow: hidden;
}

.study-session-controls {
  grid-area: controls;
  display: flex;
  gap: var(--space-s);
  justify-content: center;
  margin: var(--space-s) 0;
  padding: var(--space-s);
  max-width: 100%;
  overflow-x: auto;
}

@media (max-width: 640px) {
  .study-session-controls {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto auto;
    gap: var(--space-s);
    align-items: center;
    overflow-x: visible;
  }
  
  /* Special layout for session control buttons on mobile */
  .session-control-btn--wide {
    grid-column: 1 / -1;
    width: 100%;
  }
}

.session-control-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-2xs) var(--space-s);
  border-radius: var(--radius-3);
  font-weight: 600;
  font-size: var(--step--1);
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  border: 2px solid transparent;
  min-width: 120px;
}

.session-control-btn--primary {
  background: linear-gradient(
    135deg,
    var(--brand-primary),
    oklch(50% 0.18 240)
  );
  color: white;
  text-shadow: 0 1px 2px oklch(0% 0 0 / 0.3);
  box-shadow:
    0 1px 0 oklch(75% 0.2 240) inset,
    0 2px 4px var(--brand-primary) / 0.3;
}

.session-control-btn--primary:hover {
  transform: translateY(-1px);
  box-shadow:
    0 1px 0 oklch(75% 0.2 240) inset,
    0 4px 8px var(--brand-primary) / 0.4;
}

.session-control-btn--secondary {
  background: var(--surface-1);
  color: var(--text-1);
  border-color: var(--border-1);
  box-shadow:
    0 1px 0 oklch(100% 0 0 / 0.5) inset,
    0 2px 4px oklch(25% 0.03 240 / 0.1);
}

.session-control-btn--secondary:hover:not(:disabled) {
  background: var(--brand-primary);
  border-color: var(--brand-primary);
  color: white;
  transform: translateY(-1px);
}

.session-control-btn--neutral {
  background: var(--surface-3);
  color: var(--text-2);
  border-color: transparent;
}

.session-control-btn--neutral:hover {
  background: oklch(45% 0.1 45);
  color: white;
  transform: translateY(-1px);
}

.session-control-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none !important;
}

/* === SESSION COMPLETION SCREEN === */
.study-session-complete {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--surface-2);
  padding: var(--space-s);
  overflow-x: hidden;
}

.session-complete-content {
  max-width: calc(100vw - var(--space-m));
  width: 100%;
  background: var(--surface-1);
  border-radius: var(--radius-4);
  padding: var(--space-m);
  border: 1px solid var(--border-1);
  text-align: center;
  animation: var(--animation-scale-up);
  overflow: hidden;
}

@media (min-width: 480px) {
  .study-session-complete {
    padding: var(--space-m);
  }
  
  .session-complete-content {
    max-width: calc(100vw - var(--space-l));
    padding: var(--space-l);
  }
}

@media (min-width: 768px) {
  .study-session-complete {
    padding: var(--space-l);
  }
  
  .session-complete-content {
    max-width: 700px;
    padding: var(--space-xl);
  }
}

@media (min-width: 1024px) {
  .session-complete-content {
    max-width: 900px;
    padding: var(--space-2xl);
  }
}

.session-complete-header {
  margin-bottom: var(--space-xl);
}

.session-complete-icon {
  font-size: var(--step-4);
  margin-bottom: var(--space-s);
  animation: celebrate 1s ease-in-out;
}

@keyframes celebrate {
  0%,
  100% {
    transform: scale(1) rotate(0deg);
  }
  25% {
    transform: scale(1.1) rotate(-5deg);
  }
  75% {
    transform: scale(1.1) rotate(5deg);
  }
}

.session-complete-title {
  font-size: var(--step-3);
  font-weight: var(--font-bold, 700);
  color: var(--text-1);
  margin-bottom: var(--space-2xs);
  background: linear-gradient(135deg, var(--brand-primary), var(--accent-sage));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.session-complete-subtitle {
  font-size: var(--step-0);
  color: var(--text-2);
  margin: 0;
}

.session-results-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(3, 1fr);
  gap: clamp(0.5rem, 2vw, 1rem);
  margin-bottom: var(--space-xl);
  place-items: stretch;
  width: 100%;
  max-width: 100%;
  padding: 0;
  margin-left: auto;
  margin-right: auto;
}

/* Small tablets: keep 2x3 but with more spacing */
@media (min-width: 480px) {
  .session-results-grid {
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(3, 1fr);
    max-width: 400px;
    gap: clamp(0.75rem, 2.5vw, 1.25rem);
  }
}

/* Medium screens: transition to 3x2 layout */
@media (min-width: 640px) {
  .session-results-grid {
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(2, 1fr);
    max-width: 500px;
  }
}

/* Tablets and up: 3 columns with better proportions */
@media (min-width: 768px) {
  .session-results-grid {
    grid-template-columns: repeat(3, 1fr);
    max-width: 650px;
    grid-template-rows: repeat(2, 1fr);
  }
}

/* Large screens: maintain 3x2 layout with optimal sizing */
@media (min-width: 1024px) {
  .session-results-grid {
    grid-template-columns: repeat(3, 1fr);
    max-width: 750px;
    grid-template-rows: repeat(2, 1fr);
  }
}

/* Extra large: keep 3x2, increase max-width for better text legibility */
@media (min-width: 1200px) {
  .session-results-grid {
    grid-template-columns: repeat(3, 1fr);
    max-width: 900px;
    grid-template-rows: repeat(2, 1fr);
  }
}

.result-item {
  width: 100%;
  min-width: 0;
  max-width: 100%;
  height: auto;
  border-radius: var(--radius-3);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: clamp(0.5rem, 2vw, 2rem);
  background: var(--surface-2);
  border: 1px solid var(--border-1);
  transition: all 0.3s var(--ease-out-2);
  animation: var(--animation-fade-in);
  animation-delay: calc(var(--index, 0) * 0.1s);
  animation-fill-mode: both;
  text-align: center;
  box-sizing: border-box;
  overflow: hidden;
  aspect-ratio: 1.3 / 1;
  min-height: clamp(4rem, 10vw, 9rem);
}

/* Optimize for small screens (2x3 layout) */
@media (max-width: 639px) {
  .result-item {
    aspect-ratio: 1.4 / 1;
    min-height: clamp(3.5rem, 8vw, 5rem);
    padding: clamp(0.5rem, 1.5vw, 1rem);
  }
}

/* Medium screens and up (3x2 layout) */
@media (min-width: 640px) {
  .result-item {
    aspect-ratio: 1.2 / 1;
    min-height: clamp(4.5rem, 12vw, 9rem);
    padding: clamp(0.75rem, 2.5vw, 2rem);
  }
}

.result-item:hover {
  transform: translateY(var(--hover-lift, -2px));
  box-shadow: var(--shadow-3);
  background: var(--surface-1);
  border-color: var(--brand-primary);
}

.result-item--success {
  background: var(--success-bg, oklch(98% 0.03 160));
  border-color: var(--success-border, oklch(75% 0.15 160) / 0.3);
}

.result-item--error {
  background: var(--error-bg, oklch(98% 0.03 0));
  border-color: var(--error-border, oklch(70% 0.2 0) / 0.3);
}

.result-icon {
  font-size: clamp(1rem, 2vw + 0.5rem, 2.25rem);
  margin-bottom: clamp(0.125rem, 0.5vw, 0.75rem);
}

.result-number {
  font-size: clamp(1.25rem, 3vw + 0.5rem, 3rem);
  font-weight: 700;
  color: var(--text-1);
  margin-bottom: clamp(0.125rem, 0.5vw, 0.5rem);
  line-height: 0.9;
  word-break: keep-all;
}

.result-label {
  font-size: clamp(0.625rem, 1.5vw + 0.2rem, 1rem);
  color: var(--text-2);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: clamp(0.02em, 0.3vw, 0.075em);
  hyphens: auto;
  word-break: break-word;
  line-height: 1.2;
  max-width: 100%;
  overflow-wrap: break-word;
}

/* Typography optimization for small screens (2x3) */
@media (max-width: 639px) {
  .result-icon {
    font-size: clamp(0.875rem, 3vw, 1.5rem);
    margin-bottom: clamp(0.125rem, 1vw, 0.375rem);
  }

  .result-number {
    font-size: clamp(1rem, 4vw, 1.75rem);
    margin-bottom: clamp(0.125rem, 0.5vw, 0.25rem);
    line-height: 1;
  }

  .result-label {
    font-size: clamp(0.5rem, 2.5vw, 0.75rem);
    line-height: 1.1;
    letter-spacing: clamp(0.01em, 0.2vw, 0.05em);
  }
}

/* Typography for medium screens and up (3x2) */
@media (min-width: 640px) {
  .result-icon {
    font-size: clamp(1.25rem, 2.5vw + 0.5rem, 2.25rem);
    margin-bottom: clamp(0.25rem, 1vw, 0.75rem);
  }

  .result-number {
    font-size: clamp(1.5rem, 3.5vw + 0.5rem, 3rem);
    margin-bottom: clamp(0.25rem, 0.75vw, 0.5rem);
    line-height: 0.9;
  }

  .result-label {
    font-size: clamp(0.75rem, 1.75vw + 0.25rem, 1rem);
    line-height: 1.3;
    letter-spacing: clamp(0.025em, 0.5vw, 0.075em);
  }
}

.session-complete-actions {
  display: flex;
  gap: var(--space-s);
  justify-content: center;
}

@media (max-width: 640px) {
  .session-complete-actions {
    flex-direction: column;
    align-items: center;
  }
}

/* === EMPTY STATE === */
.study-session-empty {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--surface-2);
  padding: var(--space-l);
}

.empty-state {
  text-align: center;
  max-width: 400px;
}

.empty-icon {
  font-size: var(--step-4);
  margin-bottom: var(--space-s);
  opacity: 0.6;
}

.empty-state h3 {
  font-size: var(--step-2);
  font-weight: 600;
  color: var(--text-1);
  margin-bottom: var(--space-2xs);
}

.empty-state p {
  color: var(--text-2);
  margin-bottom: var(--space-l);
  line-height: 1.5;
}

/* Animation stagger for result items */
.result-item:nth-child(1) {
  --index: 1;
}
.result-item:nth-child(2) {
  --index: 2;
}
.result-item:nth-child(3) {
  --index: 3;
}
.result-item:nth-child(4) {
  --index: 4;
}
.result-item:nth-child(5) {
  --index: 5;
}
.result-item:nth-child(6) {
  --index: 6;
}

/* === THEME TOGGLE COMPONENT === */
.theme-toggle {
  display: flex;
  align-items: center;
  gap: var(--space-2xs);
  padding: var(--space-2xs) var(--space-xs);
  border: 1px solid var(--border-1);
  border-radius: var(--radius-pill);
  background: var(--surface-1);
  color: var(--text-1);
  font-size: var(--step--1);
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.theme-toggle::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--brand-primary);
  opacity: 0;
  transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.theme-toggle:hover::before {
  opacity: 0.05;
}

.theme-toggle:hover {
  border-color: var(--brand-primary);
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
}

.theme-toggle:active {
  transform: translateY(0);
  box-shadow: var(--shadow-xs);
}

.theme-toggle__icon {
  font-size: var(--step-0);
  transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  position: relative;
  z-index: 1;
}

.theme-toggle:hover .theme-toggle__icon {
  transform: scale(1.1) rotate(10deg);
}

.theme-toggle__label {
  font-size: var(--step--1);
  font-weight: 600;
  letter-spacing: 0.02em;
  position: relative;
  z-index: 1;
}

@media (max-width: 640px) {
  .theme-toggle__label {
    display: none;
  }
  
  .theme-toggle {
    padding: var(--space-2xs);
    min-width: 2.5rem;
    justify-content: center;
  }
}

/* === CARD FORM COMPONENT === */
.card-form-overlay {
  position: fixed;
  inset: 0;
  background: var(--surface-overlay);
  backdrop-filter: blur(8px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-s);
  z-index: 1000;
  animation: var(--animation-fade-in);
}

.card-form {
  background: var(--surface-1);
  border-radius: var(--radius-4);
  box-shadow: var(--shadow-2xl);
  width: 100%;
  max-width: 600px;
  max-height: 90vh;
  overflow-y: auto;
  animation: var(--animation-scale-up);
}

.card-form__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-l) var(--space-l) var(--space-s);
  border-bottom: 1px solid var(--border-1);
}

.card-form__title {
  font-size: var(--step-1);
  font-weight: 700;
  color: var(--text-1);
  margin: 0;
}

.card-form__close {
  background: none;
  border: none;
  font-size: var(--step-0);
  color: var(--text-2);
  cursor: pointer;
  padding: var(--space-3xs);
  border-radius: var(--radius-2);
  transition: all 0.2s var(--ease-out-2);
}

.card-form__close:hover {
  background: var(--surface-3);
  color: var(--text-1);
}

.card-form__form {
  padding: var(--space-l);
  display: flex;
  flex-direction: column;
  gap: var(--space-m);
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: var(--space-2xs);
}

.form-row {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-s);
}

@media (min-width: 640px) {
  .form-row {
    grid-template-columns: 1fr 200px;
  }
}

.form-label {
  font-size: var(--step--1);
  font-weight: 600;
  color: var(--text-1);
  margin-bottom: var(--space-3xs);
}

.form-input,
.form-textarea,
.form-select {
  padding: var(--space-xs) var(--space-s);
  border: 1px solid var(--border-1);
  border-radius: var(--radius-2);
  background: var(--surface-1);
  color: var(--text-1);
  font-size: var(--step--1);
  font-family: inherit;
  transition: all 0.2s var(--ease-out-2);
}

.form-input:focus,
.form-textarea:focus,
.form-select:focus {
  outline: 2px solid var(--brand-500);
  outline-offset: 2px;
  border-color: var(--border-focus);
  box-shadow: 0 0 0 3px var(--brand-primary) / 0.2;
}

.form-textarea {
  resize: vertical;
  min-height: 80px;
  font-family: inherit;
  line-height: 1.5;
}

.form-input.error,
.form-textarea.error,
.form-select.error {
  border-color: var(--border-error);
}

.form-error {
  font-size: var(--step--2);
  color: var(--error-500);
  font-weight: 500;
}

.tags-input {
  display: flex;
  gap: var(--space-2xs);
  align-items: stretch;
}

.tags-input .form-input {
  flex: 1;
}

.tags-list {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2xs);
  margin-top: var(--space-2xs);
}

.tag {
  display: inline-flex;
  align-items: center;
  gap: var(--space-3xs);
  padding: var(--space-3xs) var(--space-2xs);
  background: var(--brand-100);
  color: var(--brand-700);
  border-radius: var(--radius-pill);
  font-size: var(--step--2);
  font-weight: 500;
}

.tag__remove {
  background: none;
  border: none;
  color: inherit;
  cursor: pointer;
  padding: 2px;
  border-radius: 50%;
  transition: background-color 0.2s var(--ease-out-2);
  font-size: 10px;
  line-height: 1;
}

.tag__remove:hover {
  background: var(--brand-200);
}

.card-form__actions {
  display: flex;
  gap: var(--space-s);
  justify-content: flex-end;
  padding-top: var(--space-s);
  border-top: 1px solid var(--border-1);
}

.btn-sm {
  padding: var(--space-3xs) var(--space-xs);
  font-size: var(--step--2);
}

.btn-danger {
  --btn-bg: var(--error-500);
  --btn-color: var(--text-inverse);
  --btn-border: var(--error-600);
  --btn-shadow: var(--error-700);
  --btn-highlight: var(--error-400);
  
  background: linear-gradient(135deg, var(--btn-bg) 0%, var(--btn-border) 100%);
  border: 1px solid var(--btn-border);
  border-radius: var(--radius-2);
  color: var(--btn-color);
  cursor: pointer;
  font-size: var(--step--1);
  font-weight: 600;
  padding: var(--space-2xs) var(--space-s);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.btn-danger:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px var(--btn-shadow) / 0.3;
}

/* === CARD LIST COMPONENT === */
.card-list {
  width: 100%;
}

.card-list__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--space-l);
  padding-bottom: var(--space-s);
  border-bottom: 1px solid var(--border-1);
}

.card-list__title {
  font-size: var(--step-1);
  font-weight: 700;
  color: var(--text-1);
  margin: 0;
}

.card-list__items {
  display: flex;
  flex-direction: column;
  gap: var(--space-s);
}

.card-list-empty {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 300px;
}

/* === CARD ITEM COMPONENT === */
.card-item {
  background: var(--surface-1);
  border: 1px solid var(--border-1);
  border-radius: var(--radius-3);
  padding: var(--space-l);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  display: flex;
  gap: var(--space-s);
  align-items: flex-start;
}

.card-item:hover {
  border-color: var(--brand-primary) / 0.3;
  box-shadow: var(--shadow-sm);
  transform: translateY(-1px);
}

.card-item__content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.card-item__front,
.card-item__back {
  font-size: var(--step--1);
  line-height: 1.5;
}

.card-item__front {
  color: var(--text-1);
}

.card-item__back {
  color: var(--text-2);
}

.card-item__meta {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-2xs);
  margin-top: var(--space-2xs);
}

.card-item__category {
  background: var(--surface-3);
  color: var(--text-2);
  padding: var(--space-3xs) var(--space-2xs);
  border-radius: var(--radius-2);
  font-size: var(--step--2);
  font-weight: 500;
}

.card-item__difficulty {
  font-size: var(--step--2);
  font-weight: 600;
  text-transform: capitalize;
}

.card-item__tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3xs);
}

.card-item__tag {
  background: var(--brand-100);
  color: var(--brand-700);
  padding: var(--space-3xs) var(--space-2xs);
  border-radius: var(--radius-pill);
  font-size: var(--step--2);
  font-weight: 500;
}

.card-item__tag-more {
  background: var(--surface-3);
  color: var(--text-3);
  padding: var(--space-3xs) var(--space-2xs);
  border-radius: var(--radius-pill);
  font-size: var(--step--2);
  font-weight: 500;
}

.card-item__actions {
  display: flex;
  gap: var(--space-3xs);
  flex-shrink: 0;
}

.card-action-btn {
  background: var(--surface-2);
  border: 1px solid var(--border-1);
  border-radius: var(--radius-2);
  padding: var(--space-2xs);
  cursor: pointer;
  transition: all 0.2s var(--ease-out-2);
  font-size: var(--step--1);
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 32px;
  height: 32px;
}

.card-action-btn:hover {
  background: var(--surface-3);
  transform: scale(1.05);
}

.card-action-btn--edit:hover {
  border-color: var(--brand-primary);
  background: var(--brand-50);
}

.card-action-btn--delete:hover {
  border-color: var(--error-500);
  background: var(--error-50);
}

/* === DELETE CONFIRMATION MODAL === */
.delete-confirm-overlay {
  position: fixed;
  inset: 0;
  background: var(--surface-overlay);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1001;
  animation: var(--animation-fade-in);
}

.delete-confirm {
  background: var(--surface-1);
  border-radius: var(--radius-3);
  padding: var(--space-l);
  max-width: 400px;
  width: 90%;
  box-shadow: var(--shadow-xl);
  animation: var(--animation-scale-up);
}

.delete-confirm h3 {
  font-size: var(--step-0);
  font-weight: 700;
  color: var(--text-1);
  margin: 0 0 var(--space-xs) 0;
}

.delete-confirm p {
  font-size: var(--step--1);
  color: var(--text-2);
  line-height: 1.5;
  margin: 0 0 var(--space-l) 0;
}

.delete-confirm__actions {
  display: flex;
  gap: var(--space-s);
  justify-content: flex-end;
}

/* === PROFESSIONAL INLINE PADDING UTILITIES === */
.px-professional-xs {
  padding-inline: var(--padding-inline-xs);
}

.px-professional-s {
  padding-inline: var(--padding-inline-s);
}

.px-professional-m {
  padding-inline: var(--padding-inline-m);
}

.px-professional-l {
  padding-inline: var(--padding-inline-l);
}

.px-professional-xl {
  padding-inline: var(--padding-inline-xl);
}

/* Professional container with responsive inline padding */
.container-professional {
  padding-inline: clamp(0.5rem, 2vw, 1rem);
  margin-inline: auto;
  max-width: 100vw;
  box-sizing: border-box;
}

@media (min-width: 768px) {
  .container-professional {
    padding-inline: var(--padding-inline-l);
  }
}

@media (min-width: 1024px) {
  .container-professional {
    padding-inline: var(--padding-inline-xl);
    max-width: 1400px;
  }
}

/* === DECKS PAGE === */
.page-actions-top {
  display: flex;
  justify-content: center;
  margin: var(--space-xl) 0;
  padding-bottom: var(--space-l);
}

.page-actions-top .btn-primary {
  padding: var(--space-s) var(--space-l);
  font-weight: 600;
  letter-spacing: 0.025em;
}

@media (max-width: 640px) {
  .page-actions-top {
    margin: var(--space-l) 0;
    padding-bottom: var(--space-s);
  }
  
  .page-actions-top .btn-primary {
    width: 100%;
    max-width: 280px;
    text-align: center;
  }
}

/* === NEW DECK PAGE === */
.deck-form-container {
  max-width: 600px;
  margin: 0 auto;
  padding: var(--space-l);
}

.deck-form {
  background: var(--surface-1);
  border: 1px solid var(--border-1);
  border-radius: var(--radius-4);
  padding: var(--space-xl);
  box-shadow: var(--shadow-md);
}

.deck-form .form-group {
  margin-bottom: var(--space-l);
}

.deck-form .form-group:last-of-type {
  margin-bottom: var(--space-xl);
}

.deck-form .form-actions {
  display: flex;
  gap: var(--space-s);
  justify-content: flex-end;
  align-items: center;
  padding-top: var(--space-s);
  border-top: 1px solid var(--border-1);
  margin-top: var(--space-l);
}

@media (max-width: 640px) {
  .deck-form-container {
    padding: var(--space-s);
  }
  
  .deck-form {
    padding: var(--space-l);
  }
  
  .deck-form .form-actions {
    flex-direction: column-reverse;
    gap: var(--space-s);
  }
  
  .deck-form .form-actions .btn-primary,
  .deck-form .form-actions .btn-secondary {
    width: 100%;
    text-align: center;
  }
}

/* === LOGIN PAGE === */
.login-page {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--surface-2);
  padding: var(--space-s);
}

.login-container {
  background: var(--surface-1);
  border-radius: var(--radius-4);
  border: 1px solid var(--border-1);
  box-shadow: var(--shadow-2xl);
  width: 100%;
  max-width: 400px;
  padding: var(--space-xl);
  animation: var(--animation-scale-up);
}

.login-header {
  text-align: center;
  margin-bottom: var(--space-l);
}

.login-logo {
  display: inline-block;
  font-size: var(--step-1);
  font-weight: 700;
  text-decoration: none;
  color: var(--brand-primary);
  margin-bottom: var(--space-s);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.login-logo:hover {
  transform: scale(1.05);
  color: var(--brand-600);
}

.login-title {
  font-size: var(--step-2);
  font-weight: 700;
  color: var(--text-1);
  margin: 0 0 var(--space-2xs) 0;
  background: linear-gradient(135deg, var(--brand-primary), var(--accent-sage));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.login-subtitle {
  font-size: var(--step--1);
  color: var(--text-2);
  margin: 0;
  line-height: 1.5;
}

.auth-error {
  display: flex;
  align-items: center;
  gap: var(--space-2xs);
  background: var(--error-bg, oklch(98% 0.03 0));
  border: 1px solid var(--error-border, oklch(70% 0.2 0) / 0.3);
  color: var(--error-500);
  padding: var(--space-s);
  border-radius: var(--radius-2);
  margin-bottom: var(--space-l);
  font-size: var(--step--1);
  font-weight: 500;
  animation: var(--animation-fade-in);
}

.error-icon {
  font-size: var(--step-0);
  flex-shrink: 0;
}

.login-form {
  display: flex;
  flex-direction: column;
  gap: var(--space-m);
  margin-bottom: var(--space-l);
}

.login-submit {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2xs);
  font-weight: 700;
  font-size: var(--step-0);
  padding: var(--space-s) var(--space-m);
  margin-top: var(--space-s);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.login-submit:disabled {
  opacity: 0.7;
  cursor: not-allowed;
  transform: none !important;
}

.loading-spinner {
  font-size: var(--step-0);
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.login-footer {
  text-align: center;
  padding-top: var(--space-l);
  border-top: 1px solid var(--border-1);
}

.login-footer p {
  margin: 0 0 var(--space-s) 0;
  font-size: var(--step--1);
  color: var(--text-2);
}

.link-button {
  background: none;
  border: none;
  color: var(--brand-primary);
  cursor: pointer;
  font-size: inherit;
  font-weight: 600;
  text-decoration: underline;
  text-underline-offset: 2px;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.link-button:hover:not(:disabled) {
  color: var(--brand-600);
  text-decoration-thickness: 2px;
}

.link-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.demo-credentials {
  background: var(--surface-3);
  border-radius: var(--radius-2);
  padding: var(--space-s);
  margin-top: var(--space-s);
}

.demo-credentials h4 {
  font-size: var(--step--1);
  font-weight: 700;
  color: var(--text-1);
  margin: 0 0 var(--space-2xs) 0;
}

.demo-credentials p {
  font-size: var(--step--2);
  color: var(--text-2);
  margin: var(--space-3xs) 0;
  font-family: var(--font-mono, monospace);
  font-weight: 500;
}

/* Mobile optimizations for login */
@media (max-width: 640px) {
  .login-container {
    max-width: 100%;
    margin: var(--space-s);
    padding: var(--space-l);
  }
  
  .login-title {
    font-size: var(--step-1);
  }
}

/* === LANDING PAGE === */
.landing-page {
  min-height: 100vh;
  background: var(--surface-1);
}

.landing-container {
  max-width: 1200px;
  margin: 0 auto;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.landing-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-l) var(--space-l) 0;
  margin-bottom: var(--space-xl);
}

.landing-logo {
  font-size: var(--step-1);
  font-weight: 700;
  color: var(--brand-primary);
}

.landing-nav {
  display: flex;
  gap: var(--space-s);
}

.landing-main {
  flex: 1;
  padding: 0 var(--space-l);
}

.hero-section {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-xl);
  align-items: center;
  margin-bottom: var(--space-2xl);
  min-height: 60vh;
}

@media (min-width: 768px) {
  .hero-section {
    grid-template-columns: 1fr 400px;
    gap: var(--space-2xl);
  }
}

.hero-content {
  text-align: center;
}

@media (min-width: 768px) {
  .hero-content {
    text-align: left;
  }
}

.hero-title {
  font-size: var(--step-4);
  font-weight: 700;
  color: var(--text-1);
  margin: 0 0 var(--space-s) 0;
  line-height: 1.1;
}

.hero-highlight {
  background: linear-gradient(135deg, var(--brand-primary), var(--accent-sage));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hero-subtitle {
  font-size: var(--step-0);
  color: var(--text-2);
  margin: 0 0 var(--space-xl) 0;
  line-height: 1.6;
  max-width: 500px;
}

@media (min-width: 768px) {
  .hero-subtitle {
    margin: 0 0 var(--space-xl) 0;
  }
}

.hero-actions {
  display: flex;
  flex-direction: column;
  gap: var(--space-s);
  align-items: center;
}

@media (min-width: 640px) {
  .hero-actions {
    flex-direction: row;
    justify-content: center;
  }
}

@media (min-width: 768px) {
  .hero-actions {
    justify-content: flex-start;
  }
}

.btn-large {
  padding: var(--space-s) var(--space-l);
  font-size: var(--step-0);
  font-weight: 700;
  min-width: 180px;
}

.hero-visual {
  display: flex;
  justify-content: center;
  align-items: center;
}

.demo-card {
  width: 300px;
  height: 200px;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  animation: float 3s ease-in-out infinite;
}

.demo-card:hover {
  transform: rotateY(180deg);
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px) rotateX(5deg);
  }
  50% {
    transform: translateY(-10px) rotateX(5deg);
  }
}

.demo-card-front,
.demo-card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: var(--radius-4);
  padding: var(--space-l);
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  box-shadow: var(--shadow-xl);
  border: 1px solid var(--border-1);
}

.demo-card-front {
  background: linear-gradient(135deg, var(--brand-primary), var(--brand-600));
  color: white;
}

.demo-card-back {
  background: var(--surface-1);
  color: var(--text-1);
  transform: rotateY(180deg);
}

.demo-card h3 {
  font-size: var(--step-1);
  font-weight: 700;
  margin: 0;
}

.demo-card p {
  font-size: var(--step--1);
  margin: 0;
  line-height: 1.4;
}

.features-section {
  margin-bottom: var(--space-2xl);
}

.features-title {
  font-size: var(--step-3);
  font-weight: 700;
  color: var(--text-1);
  text-align: center;
  margin: 0 0 var(--space-xl) 0;
}

.features-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-l);
}

@media (min-width: 640px) {
  .features-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .features-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

.feature-card {
  background: var(--surface-2);
  border: 1px solid var(--border-1);
  border-radius: var(--radius-3);
  padding: var(--space-l);
  text-align: center;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.feature-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
  border-color: var(--brand-primary) / 0.3;
}

.feature-icon {
  font-size: var(--step-3);
  margin-bottom: var(--space-s);
}

.feature-card h3 {
  font-size: var(--step-0);
  font-weight: 700;
  color: var(--text-1);
  margin: 0 0 var(--space-2xs) 0;
}

.feature-card p {
  font-size: var(--step--1);
  color: var(--text-2);
  margin: 0;
  line-height: 1.5;
}

.cta-section {
  background: var(--surface-2);
  border-radius: var(--radius-4);
  padding: var(--space-2xl);
  text-align: center;
  margin-bottom: var(--space-xl);
  border: 1px solid var(--border-1);
}

.cta-content h2 {
  font-size: var(--step-2);
  font-weight: 700;
  color: var(--text-1);
  margin: 0 0 var(--space-s) 0;
}

.cta-content p {
  font-size: var(--step-0);
  color: var(--text-2);
  margin: 0 0 var(--space-l) 0;
  line-height: 1.6;
}

.landing-footer {
  text-align: center;
  padding: var(--space-l);
  border-top: 1px solid var(--border-1);
  color: var(--text-2);
  font-size: var(--step--1);
}

/* Mobile optimizations for landing */
@media (max-width: 640px) {
  .landing-header {
    padding: var(--space-s) var(--space-s) 0;
  }
  
  .landing-main {
    padding: 0 var(--space-s);
  }
  
  .hero-title {
    font-size: var(--step-3);
  }
  
  .btn-large {
    width: 100%;
    max-width: 280px;
  }
}
